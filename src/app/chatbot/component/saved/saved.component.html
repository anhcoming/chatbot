<div class="p-5 history-chat">
    <div class="flex tag-info gap-5 p-4 mt-2">
        <div class="first-col">
            <svg width="41" height="41" viewBox="0 0 41 41" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20.5" cy="20.5" r="19.5" stroke="#4285F4" stroke-width="2" />
                <g clip-path="url(#clip0_0_1)">
                    <path
                        d="M12.8177 10H22.5602C23.3351 10 24.0395 10.3141 24.5506 10.8219C25.0617 11.3298 25.3779 12.0296 25.3779 12.7995V19.043C25.3779 19.8128 25.0617 20.5127 24.5506 21.0205C24.0395 21.5283 23.3351 21.8424 22.5602 21.8424H17.6881L13.4091 25.4964C13.2109 25.6657 12.9111 25.6429 12.7407 25.4443C12.6572 25.3467 12.6195 25.2262 12.6277 25.1074L12.8554 21.8408H12.8177C12.0429 21.8408 11.3384 21.5267 10.8273 21.0189C10.3162 20.5127 10 19.8128 10 19.043V12.7995C10 12.0296 10.3162 11.3298 10.8273 10.8219C11.3368 10.3141 12.0412 10 12.8177 10ZM26.7606 14.554C27.3126 14.6598 27.8074 14.93 28.1907 15.3109C28.6904 15.8073 29.0016 16.4925 29.0016 17.2477V23.4912C29.0016 24.2464 28.692 24.9316 28.1907 25.4281C27.6911 25.9245 27.0014 26.2337 26.2412 26.2337H26.1413L26.3739 29.5605C26.3805 29.6647 26.3494 29.7721 26.2757 29.8568C26.1266 30.0309 25.8628 30.0505 25.6892 29.9023L21.3938 26.1263H15.7354L18.522 23.3105H24.4261C25.7137 23.3105 26.7688 22.264 26.7688 20.9831V14.738C26.7671 14.6761 26.7655 14.6143 26.7606 14.554ZM14.2069 17.1094C13.9448 17.1094 13.7319 16.8978 13.7319 16.6374C13.7319 16.377 13.9448 16.1654 14.2069 16.1654H19.1789C19.441 16.1654 19.654 16.377 19.654 16.6374C19.654 16.8978 19.441 17.1094 19.1789 17.1094H14.2069ZM14.2069 14.7721C13.9448 14.7721 13.7319 14.5605 13.7319 14.3001C13.7319 14.0397 13.9448 13.8281 14.2069 13.8281H21.2545C21.5166 13.8281 21.7296 14.0397 21.7296 14.3001C21.7296 14.5605 21.5166 14.7721 21.2545 14.7721H14.2069ZM22.5585 10.944H12.8177C12.305 10.944 11.8381 11.1523 11.499 11.4893C11.1599 11.8262 10.9502 12.2884 10.9502 12.7995V19.043C10.9502 19.5524 11.1599 20.0163 11.499 20.3532C11.8381 20.6901 12.305 20.8984 12.8177 20.8984H13.3649V20.9001L13.396 20.9017C13.6565 20.9196 13.8547 21.1442 13.8367 21.403L13.6516 24.0495L17.1803 21.0352C17.2655 20.9505 17.3834 20.8984 17.5145 20.8984H22.5585C23.0713 20.8984 23.5382 20.6901 23.8773 20.3532C24.2164 20.0163 24.4261 19.5524 24.4261 19.043V12.7995C24.4261 12.29 24.2164 11.8262 23.8773 11.4893C23.5398 11.1523 23.0729 10.944 22.5585 10.944Z"
                        fill="#4285F4" />
                </g>
                <defs>
                    <clipPath id="clip0_0_1">
                        <rect width="19" height="20" fill="white" transform="translate(10 10)" />
                    </clipPath>
                </defs>
            </svg>
        </div>
        <div class="flex flex-column w-full">
            <p class="text-saved">
                <span id="icon-history" class="mr-2">
                    <svg width="41" height="41" viewBox="0 0 41 41" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20.5" cy="20.5" r="19.5" stroke="#4285F4" stroke-width="2" />
                <g clip-path="url(#clip0_0_1)">
                    <path
                        d="M12.8177 10H22.5602C23.3351 10 24.0395 10.3141 24.5506 10.8219C25.0617 11.3298 25.3779 12.0296 25.3779 12.7995V19.043C25.3779 19.8128 25.0617 20.5127 24.5506 21.0205C24.0395 21.5283 23.3351 21.8424 22.5602 21.8424H17.6881L13.4091 25.4964C13.2109 25.6657 12.9111 25.6429 12.7407 25.4443C12.6572 25.3467 12.6195 25.2262 12.6277 25.1074L12.8554 21.8408H12.8177C12.0429 21.8408 11.3384 21.5267 10.8273 21.0189C10.3162 20.5127 10 19.8128 10 19.043V12.7995C10 12.0296 10.3162 11.3298 10.8273 10.8219C11.3368 10.3141 12.0412 10 12.8177 10ZM26.7606 14.554C27.3126 14.6598 27.8074 14.93 28.1907 15.3109C28.6904 15.8073 29.0016 16.4925 29.0016 17.2477V23.4912C29.0016 24.2464 28.692 24.9316 28.1907 25.4281C27.6911 25.9245 27.0014 26.2337 26.2412 26.2337H26.1413L26.3739 29.5605C26.3805 29.6647 26.3494 29.7721 26.2757 29.8568C26.1266 30.0309 25.8628 30.0505 25.6892 29.9023L21.3938 26.1263H15.7354L18.522 23.3105H24.4261C25.7137 23.3105 26.7688 22.264 26.7688 20.9831V14.738C26.7671 14.6761 26.7655 14.6143 26.7606 14.554ZM14.2069 17.1094C13.9448 17.1094 13.7319 16.8978 13.7319 16.6374C13.7319 16.377 13.9448 16.1654 14.2069 16.1654H19.1789C19.441 16.1654 19.654 16.377 19.654 16.6374C19.654 16.8978 19.441 17.1094 19.1789 17.1094H14.2069ZM14.2069 14.7721C13.9448 14.7721 13.7319 14.5605 13.7319 14.3001C13.7319 14.0397 13.9448 13.8281 14.2069 13.8281H21.2545C21.5166 13.8281 21.7296 14.0397 21.7296 14.3001C21.7296 14.5605 21.5166 14.7721 21.2545 14.7721H14.2069ZM22.5585 10.944H12.8177C12.305 10.944 11.8381 11.1523 11.499 11.4893C11.1599 11.8262 10.9502 12.2884 10.9502 12.7995V19.043C10.9502 19.5524 11.1599 20.0163 11.499 20.3532C11.8381 20.6901 12.305 20.8984 12.8177 20.8984H13.3649V20.9001L13.396 20.9017C13.6565 20.9196 13.8547 21.1442 13.8367 21.403L13.6516 24.0495L17.1803 21.0352C17.2655 20.9505 17.3834 20.8984 17.5145 20.8984H22.5585C23.0713 20.8984 23.5382 20.6901 23.8773 20.3532C24.2164 20.0163 24.4261 19.5524 24.4261 19.043V12.7995C24.4261 12.29 24.2164 11.8262 23.8773 11.4893C23.5398 11.1523 23.0729 10.944 22.5585 10.944Z"
                        fill="#4285F4" />
                </g>
                <defs>
                    <clipPath id="clip0_0_1">
                        <rect width="19" height="20" fill="white" transform="translate(10 10)" />
                    </clipPath>
                </defs>
            </svg>
                </span>
                Cuộc trò chuyện đã lưu
            </p>
            <div class="row">
                <div class="col-lg-6 col-md-12 col-sm-12 col-12">
                    <div class="group-input">
                        <input class="w-full" pInputText type="text" placeholder="Nhập nội dung cần tìm">
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 col-sm-6 col-6">
                    <div class="group-input flex justify-content-between align-items-center px-3">
                        <div class="input-group">
                            <input
                                class="form-control"
                                placeholder="Từ ngày"
                                name="dp"
                                [(ngModel)]="fromDate"
                                ngbDatepicker
                                #from="ngbDatepicker"
                            />
                            <div class="svg-icon" (click)="from.toggle()"></div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 col-sm-6 col-6">
                    <div class="group-input flex justify-content-between align-items-center px-3">
                        <div class="input-group">
                            <input
                                class="form-control"
                                placeholder="Đến ngày"
                                name="dp"
                                [(ngModel)]="toDate"
                                ngbDatepicker
                                #to="ngbDatepicker"
                            />
                            <div class="svg-icon" (click)="to.toggle()"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!--            WEB HISTORY-->
            <div id="web-history" class="mt-5">
                <table class=" table table-bordered">
                    <tr class="header-table">
                        <td class="font-weight-bold text-center">STT</td>
                        <td class="font-weight-bold text-center">Cuộc trò chuyện</td>
                        <td class="font-weight-bold text-center">Thời gian</td>
                        <td class="font-weight-bold text-center">Thao tác</td>
                    </tr>
                    <tr *ngFor="let item of data">
                        <td class="text-center">{{ item.id }}</td>
                        <td class="text-center">{{ item.question }}</td>
                        <td class="text-center">{{ item.timestamp  }}</td>
                        <td class="text-center">
                            <div class="flex justify-content-center gap-2 align-items-center">
                                <svg (click)="showDetail(item.id)" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17ZM9 12C9 10.34 10.34 9 12 9C13.66 9 15 10.34 15 12C15 13.66 13.66 15 12 15C10.34 15 9 13.66 9 12Z"
                                        fill="#22BAA6" />
                                </svg>
                                <svg (click)="exportDocx(item.id, item.name)" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M15 9.5H16.59C17.48 9.5 17.92 10.58 17.29 11.21L12.7 15.8C12.31 16.19 11.68 16.19 11.29 15.8L6.7 11.21C6.07 10.58 6.52 9.5 7.41 9.5H9V4.5C9 3.95 9.45 3.5 10 3.5H14C14.55 3.5 15 3.95 15 4.5V9.5ZM6 20.5C5.45 20.5 5 20.05 5 19.5C5 18.95 5.45 18.5 6 18.5H18C18.55 18.5 19 18.95 19 19.5C19 20.05 18.55 20.5 18 20.5H6Z"
                                        fill="#405189" />
                                </svg>
                                <svg (click)="unStorageChatSession(item.id)" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M10.59 4.59C10.21 4.21 9.7 4 9.17 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V8C22 6.9 21.1 6 20 6H12L10.59 4.59Z"
                                        fill="#FABB05" />
                                </svg>
                                <svg (click)="confirm(item?.id)" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M14.79 3.29L15.5 4H18C18.55 4 19 4.45 19 5C19 5.55 18.55 6 18 6H6C5.45 6 5 5.55 5 5C5 4.45 5.45 4 6 4H8.5L9.21 3.29C9.39 3.11 9.65 3 9.91 3H14.09C14.35 3 14.61 3.11 14.79 3.29ZM6 19C6 20.1 6.9 21 8 21H16C17.1 21 18 20.1 18 19V9C18 7.9 17.1 7 16 7H8C6.9 7 6 7.9 6 9V19ZM9 9H15C15.55 9 16 9.45 16 10V18C16 18.55 15.55 19 15 19H9C8.45 19 8 18.55 8 18V10C8 9.45 8.45 9 9 9Z"
                                        fill="#EB4335" />
                                </svg>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <!--        MOBILE HISTORY-->
    <div id="mobile-history" class="mt-2">
        <div class="flex flex-column" *ngFor="let item of data">
            <div class="time px-4 py-2">{{ item?.timestamp  }}</div>
            <div class="flex align-items-center justify-content-between px-4 py-3">
                <div class="title title">{{ item?.question }}</div>
                <div class="dot mx-1 d-inline-block" ngbDropdown #myDrop="ngbDropdown">
                    <svg ngbDropdownToggle width="29" height="29" viewBox="0 0 29 29"
                        fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="14.5" cy="14.5" r="14.5" fill="#F4F4F4" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M14 11C15.1 11 16 10.1 16 9C16 7.9 15.1 7 14 7C12.9 7 12 7.9 12 9C12 10.1 12.9 11 14 11ZM14 13C12.9 13 12 13.9 12 15C12 16.1 12.9 17 14 17C15.1 17 16 16.1 16 15C16 13.9 15.1 13 14 13ZM12 21C12 19.9 12.9 19 14 19C15.1 19 16 19.9 16 21C16 22.1 15.1 23 14 23C12.9 23 12 22.1 12 21Z" />
                    </svg>
                    <div ngbDropdownMenu aria-labelledby="dropdownManual">
                        <button (click)="showDetail()" class="flex align-items-center cursor-pointer" ngbDropdownItem>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17ZM9 12C9 10.34 10.34 9 12 9C13.66 9 15 10.34 15 12C15 13.66 13.66 15 12 15C10.34 15 9 13.66 9 12Z" fill="#22BAA6"/>
                            </svg>
                            <span class="ml-2 text-option">Xem</span></button>
                        <button (click)="exportDocx(item.id, item.name)" class="flex align-items-center cursor-pointer" ngbDropdownItem>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M15 9.5H16.59C17.48 9.5 17.92 10.58 17.29 11.21L12.7 15.8C12.31 16.19 11.68 16.19 11.29 15.8L6.7 11.21C6.07 10.58 6.52 9.5 7.41 9.5H9V4.5C9 3.95 9.45 3.5 10 3.5H14C14.55 3.5 15 3.95 15 4.5V9.5ZM6 20.5C5.45 20.5 5 20.05 5 19.5C5 18.95 5.45 18.5 6 18.5H18C18.55 18.5 19 18.95 19 19.5C19 20.05 18.55 20.5 18 20.5H6Z"
                                    fill="#4285F4" />
                            </svg>
                            <span class="ml-2 text-option">Download</span></button>
                        <button (click)="unStorageChatSession(item.id)" class="flex align-items-center cursor-pointer" ngbDropdownItem>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M12 6H20C21.1 6 22 6.9 22 8V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18L2.01 6C2.01 4.9 2.9 4 4 4H9.17C9.7 4 10.21 4.21 10.59 4.59L12 6ZM4 17C4 17.55 4.45 18 5 18H19C19.55 18 20 17.55 20 17V9C20 8.45 19.55 8 19 8H5C4.45 8 4 8.45 4 9V17Z"
                                    fill="#FABB05" />
                            </svg>
                            <span class="ml-2 text-option">Bỏ lưu trữ</span></button>
                        <button (click)="confirm(item?.id)" class="flex align-items-center cursor-pointer" ngbDropdownItem>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M14.79 3.29L15.5 4H18C18.55 4 19 4.45 19 5C19 5.55 18.55 6 18 6H6C5.45 6 5 5.55 5 5C5 4.45 5.45 4 6 4H8.5L9.21 3.29C9.39 3.11 9.65 3 9.91 3H14.09C14.35 3 14.61 3.11 14.79 3.29ZM6 19C6 20.1 6.9 21 8 21H16C17.1 21 18 20.1 18 19V9C18 7.9 17.1 7 16 7H8C6.9 7 6 7.9 6 9V19ZM9 9H15C15.55 9 16 9.45 16 10V18C16 18.55 15.55 19 15 19H9C8.45 19 8 18.55 8 18V10C8 9.45 8.45 9 9 9Z"
                                    fill="#EB4335" />
                            </svg>
                            <span class="ml-2 text-option">Xóa</span></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="delete-options" class="flex justify-content-start">
    <p-dialog header="Xác nhận xóa" [modal]="true" [(visible)]="visible" [style]="{ width: '30rem' }"
        [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }">
        <div class="w-full flex justify-content-center align-item-center justify-content-center">
            Bạn có chắc chắn muốn xóa cuộc trò chuyện này?
        </div>
        <div class="flex justify-content-center mt-2 gap-2">
            <div (click)="cancel()" class="cancel flex px-5 py-2 align-item-center gap-2">
                <div class="flex align-item-center">
                    <svg width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M3.89951 2.92873C7.80274 -0.974496 14.1384 -0.974496 18.0416 2.92873C21.9449 6.83196 21.9449 13.1676 18.0416 17.0709C14.1384 20.9741 7.80274 20.9741 3.89951 17.0709C-0.00371599 13.1676 -0.00371633 6.83196 3.89951 2.92873ZM10.9706 11.414L13.0919 13.5353C13.4808 13.9242 14.1172 13.9242 14.5061 13.5353C14.895 13.1464 14.895 12.51 14.5061 12.1211L12.3848 9.9998L14.5061 7.87848C14.895 7.48957 14.895 6.85318 14.5061 6.46427C14.1172 6.07536 13.4808 6.07536 13.0919 6.46427L10.9706 8.58559L8.84926 6.46427C8.46035 6.07536 7.82396 6.07536 7.43505 6.46427C7.04614 6.85318 7.04614 7.48957 7.43505 7.87848L9.55637 9.9998L7.43505 12.1211C7.04614 12.51 7.04614 13.1464 7.43505 13.5353C7.82396 13.9242 8.46035 13.9242 8.84926 13.5353L10.9706 11.414Z"
                            fill="#878A99" />
                    </svg>
                </div>
                <div>Hủy</div>
            </div>
            <div (click)="deleteChatSession()" class="delete flex px-5 py-2 align-item-center gap-2">
                <div class="flex align-item-center">
                    <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M3.89951 3.89944C7.80274 -0.00379252 14.1384 -0.00379252 18.0416 3.89944C21.9449 7.80267 21.9449 14.1383 18.0416 18.0416C14.1384 21.9448 7.80274 21.9448 3.89951 18.0416C-0.00371599 14.1383 -0.00371633 7.80267 3.89951 3.89944ZM10.9706 12.3847L13.0919 14.506C13.4808 14.8949 14.1172 14.8949 14.5061 14.506C14.895 14.1171 14.895 13.4807 14.5061 13.0918L12.3848 10.9705L14.5061 8.84918C14.895 8.46028 14.895 7.82388 14.5061 7.43497C14.1172 7.04606 13.4808 7.04606 13.0919 7.43497L10.9706 9.55629L8.84926 7.43497C8.46035 7.04606 7.82396 7.04606 7.43505 7.43497C7.04614 7.82388 7.04614 8.46028 7.43505 8.84918L9.55637 10.9705L7.43505 13.0918C7.04614 13.4807 7.04614 14.1171 7.43505 14.506C7.82396 14.8949 8.46035 14.8949 8.84926 14.506L10.9706 12.3847Z"
                            fill="white" />
                    </svg>
                </div>
                <div>Xóa</div>
            </div>
        </div>
    </p-dialog>
</div>
