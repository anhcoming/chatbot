<div class="main-chat relative h-full">
    <div class="chatContainer overflow-y-hidden h-full">    
        <div #scrollContainer class="h-full px-3 pb-5 overflow-y-auto">
            <div>
                Thời gian: {{ messages[0].createdAt | date: 'HH:mm dd/MM/yyyy' }}  
                <svg (click)="exportDocx()" width="20" height="24" viewBox="0 0 20 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M14 8.66675H16.12C17.3066 8.66675 17.8933 10.1067 17.0533 10.9467L10.9333 17.0667C10.4133 17.5868 9.57329 17.5868 9.05329 17.0667L2.93329 10.9467C2.09329 10.1067 2.69329 8.66675 3.87996 8.66675H5.99996V2.00008C5.99996 1.26675 6.59996 0.666748 7.33329 0.666748H12.6666C13.4 0.666748 14 1.26675 14 2.00008V8.66675ZM1.99996 23.3334C1.26663 23.3334 0.666626 22.7334 0.666626 22.0001C0.666626 21.2667 1.26663 20.6667 1.99996 20.6667H18C18.7333 20.6667 19.3333 21.2667 19.3333 22.0001C19.3333 22.7334 18.7333 23.3334 18 23.3334H1.99996Z" fill="#4285F4"/>
                </svg>
            </div>
            <div class="">
                <div *ngFor="let message of messages" class="flex message-container mt-3"
                     [ngClass]="{'justify-content-end': message.sender === 'user', 'justify-content-start': message.sender === 'agent'}">
                    <ng-container *ngIf="message.sender === 'agent'">
                        <div class="message-agent flex align-items-center line-height-2 px-3">
                            <div class="h-full flex py-3 align-items-start">
                                <img width="30px" src="assets/imgs-chatbot/svg/agent.svg" class="ml-2">
                            </div>
                            <div class="p-3 gap-2 pb-0 flex flex-column">
                                <div class=""
                                     [innerHTML]="message.text">
                                </div>
                                <div class="p-2 flex gap-3 options">
                                    <div>
                                        <svg class="agent-options" width="19" height="19" viewBox="0 0 19 19"
                                             xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                  d="M12.2712 0.791656H3.56283C2.69199 0.791656 1.97949 1.50416 1.97949 2.37499V12.6667C1.97949 13.1021 2.33574 13.4583 2.77116 13.4583C3.20658 13.4583 3.56283 13.1021 3.56283 12.6667V3.16666C3.56283 2.73124 3.91908 2.37499 4.35449 2.37499H12.2712C12.7066 2.37499 13.0628 2.01874 13.0628 1.58332C13.0628 1.14791 12.7066 0.791656 12.2712 0.791656ZM12.7382 4.42541L16.562 8.24916C16.8549 8.54207 17.0212 8.94582 17.0212 9.36541V16.625C17.0212 17.4958 16.3087 18.2083 15.4378 18.2083H6.72158C5.85074 18.2083 5.14616 17.4958 5.14616 16.625L5.15408 5.54166C5.15408 4.67082 5.85866 3.95832 6.72949 3.95832H11.6141C12.0337 3.95832 12.4374 4.12457 12.7382 4.42541ZM15.8337 9.49999H12.2712C11.8357 9.49999 11.4795 9.14374 11.4795 8.70832V5.14582L15.8337 9.49999Z"
                                            />
                                        </svg>
                                    </div>
                                    <div>
                                        <svg class="agent-options" width="24" height="16" viewBox="0 0 24 16"
                                             xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                  d="M12 0C15.64 0 18.67 2.59 19.35 6.04C21.95 6.22 24 8.36 24 11C24 13.76 21.76 16 19 16H6C2.69 16 0 13.31 0 10C0 6.91 2.34 4.36 5.35 4.04C6.6 1.64 9.11 0 12 0ZM12.35 13.65L17 9H14V5H10V9H7L11.64 13.65C11.84 13.85 12.15 13.85 12.35 13.65Z"
                                            />
                                        </svg>
                                    </div>
                                    <div>
                                        <svg class="agent-options" width="18" height="18" viewBox="0 0 18 18"
                                             xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                  d="M11 1.65182V1.45182C11 0.821824 11.63 0.371824 12.21 0.601824C15.6 1.89182 18 5.16182 18 9.00182C18 12.8418 15.6 16.1118 12.21 17.4018C11.63 17.6218 11 17.1818 11 16.5518V16.3518C11 15.9718 11.24 15.6418 11.6 15.5018C14.18 14.4718 16 11.9418 16 9.00182C16 6.06182 14.18 3.53182 11.6 2.50182C11.25 2.36182 11 2.03182 11 1.65182ZM0 7.00182V11.0018C0 11.5518 0.45 12.0018 1 12.0018H4L7.29 15.2918C7.92 15.9218 9 15.4718 9 14.5818V3.41182C9 2.52182 7.92 2.07182 7.29 2.70182L4 6.00182H1C0.45 6.00182 0 6.45182 0 7.00182ZM13.5 9.00183C13.5 7.23182 12.48 5.71182 11 4.97182V13.0218C12.48 12.2918 13.5 10.7718 13.5 9.00183Z"
                                            />
                                        </svg>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-container>

                    <ng-container *ngIf="message.sender === 'user'">
                        <div class="message-user flex align-items-center line-height-2 px-3 max-width-70">
                            <div class="h-full flex py-3 align-items-start">
                                <img width="30px" src="assets/imgs-chatbot/svg/user-chat.svg" class="ml-2">
                            </div>
                            <div class="p-3"
                                 [innerHTML]="message.text">
                            </div>
                        </div>
                    </ng-container>
                </div>
            </div>
        </div>
    </div>
</div>
